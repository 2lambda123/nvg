<html>
<script src="../dist/nvg.js"></script>
<body onload="document.getElementById('files').addEventListener('change', loadFileAsText, false)">
Select NVG XML file: <input type="file" id="files" name="files[]"><br>
NVG JSON according to NVG JSON specification: <i>new NVG(file)</i><br>
<textarea rows="20" cols="70" id="nvg_json">
</textarea><br>
NVG GeoJSON according to GeoJSON specification:  <i>toGeoJSON()</i><br>
<textarea rows="20" cols="70" id="nvg_geojson">
</textarea><br>
<script>
function loadFileAsText (evt) {
	var fileToLoad = evt.target.files[0];
	var fileReader = new FileReader();
	fileReader.onload = function(fileLoadedEvent) {
		var file = fileLoadedEvent.target.result;
		var parser = new NVG(file);
		document.getElementById('nvg_json').value = JSON.stringify(parser, null, 4);
		document.getElementById('nvg_geojson').value = JSON.stringify(parser.toGeoJSON(), null, 4);
	};
	fileReader.readAsText(fileToLoad, "UTF-8");
}
</script>



</body>
</html>